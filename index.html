<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíï –î–ª—è —Ç–µ–±—è, –í–∞—Ä—è üíï</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow-y: auto;
            overflow-x: hidden;
            position: relative;
            padding: 20px 0;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .heart {
            position: absolute;
            font-size: 20px;
            color: rgba(255, 255, 255, 0.8);
            animation: float 6s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 30px;
            padding: 60px 40px;
            max-width: 800px;
            width: 90%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            text-align: center;
            position: relative;
            z-index: 10;
            animation: fadeIn 1s ease-in;
            margin-bottom: 30px;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h1 {
            color: #e91e63;
            font-size: 2.5em;
            margin-bottom: 20px;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        h2 {
            color: #e91e63;
            font-size: 2em;
            margin-bottom: 20px;
        }

        .message {
            color: #333;
            font-size: 1.3em;
            line-height: 1.8;
            margin: 30px 0;
        }

        .message p {
            margin: 15px 0;
            opacity: 0;
            animation: slideIn 0.8s ease forwards;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .button {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2em;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 30px;
            box-shadow: 0 10px 30px rgba(245, 87, 108, 0.4);
            transition: all 0.3s;
            font-weight: bold;
        }

        .button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(245, 87, 108, 0.6);
        }

        .button:active {
            transform: translateY(0);
        }

        .sparkle {
            position: absolute;
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
            animation: sparkle 2s ease-in-out infinite;
        }

        @keyframes sparkle {
            0%, 100% {
                opacity: 0;
                transform: scale(0);
            }
            50% {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* –°–µ–∫—Ü–∏–∏ */
        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        /* –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ */
        .welcome-message {
            font-size: 1.4em;
            line-height: 2;
            color: #333;
            margin: 30px 0;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è —Å–µ—Ä–¥–µ—á–∫–∞ */
        .heart-stage {
            width: min(600px, 90vw);
            aspect-ratio: 16/9;
            background: #f3e6d7;
            border-radius: 24px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,.35);
            margin: 30px auto;
        }

        .heart-stage canvas {
            position: absolute;
            inset: 0;
        }

        .heart-cta {
            position: absolute;
            inset: 0;
            display: grid;
            place-items: center;
            font: 700 32px/1.1 system-ui, -apple-system, Segoe UI, Roboto, Arial;
            color: #b0002a;
            user-select: none;
            cursor: pointer;
            transition: opacity .35s ease;
            gap: 10px;
            z-index: 20;
        }

        .heart-stage.started .heart-cta {
            opacity: 0;
            pointer-events: none;
        }

        .heart-hint {
            font: 500 14px/1.2 system-ui;
            color: #333;
            opacity: .65;
        }

        .heart-text {
            position: absolute;
            left: 24px;
            top: 22px;
            right: 24px;
            font: 500 18px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Arial;
            color: #2a2a2a;
            opacity: 0;
            transform: translateY(6px);
            transition: opacity .6s ease 1.0s, transform .6s ease 1.0s;
            white-space: pre-line;
            z-index: 15;
        }

        .heart-stage.started .heart-text {
            opacity: 1;
            transform: translateY(0);
        }

        /* –ö–≤–∏–∑ */
        .quiz-container {
            text-align: left;
        }

        .question {
            margin: 30px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 15px;
            border-left: 4px solid #e91e63;
        }

        .question h3 {
            color: #e91e63;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option {
            padding: 12px 20px;
            background: white;
            border: 2px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1em;
        }

        .option:hover {
            border-color: #e91e63;
            background: rgba(233, 30, 99, 0.1);
        }

        .option.selected {
            border-color: #e91e63;
            background: rgba(233, 30, 99, 0.2);
        }

        .option.correct {
            border-color: #4caf50;
            background: rgba(76, 175, 80, 0.2);
        }

        .option.incorrect {
            border-color: #f44336;
            background: rgba(244, 67, 54, 0.2);
        }

        .quiz-progress {
            margin: 20px 0;
            font-size: 1.1em;
            color: #666;
            font-weight: bold;
            text-align: center;
        }

        .quiz-result {
            text-align: center;
            padding: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            color: white;
            margin-top: 30px;
            animation: surprisePop 0.5s ease;
        }

        @keyframes surprisePop {
            from {
                transform: scale(0);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .quiz-result .score {
            font-size: 3em;
            margin: 20px 0;
            font-weight: bold;
        }

        .quiz-result .message {
            font-size: 1.3em;
            margin-top: 20px;
            color: white;
        }

        /* –ü–æ–∂–µ–ª–∞–Ω–∏—è –∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ */
        .final-section {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        .wishes {
            text-align: center;
            padding: 40px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            border-radius: 20px;
            color: white;
        }

        .wishes h2 {
            color: white;
            margin-bottom: 20px;
        }

        .wishes p {
            font-size: 1.2em;
            line-height: 1.8;
            margin: 15px 0;
        }

        /* –ì–∞–ª–µ—Ä–µ—è */
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .gallery-item {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            transition: transform 0.3s;
        }

        .gallery-item:hover {
            transform: scale(1.05);
        }

        .gallery-item img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            display: block;
        }

        .gallery-placeholder {
            width: 100%;
            height: 250px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2em;
            text-align: center;
            padding: 20px;
        }

        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            animation: fadeIn 0.3s ease;
            overflow: auto;
        }

        .modal.active {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
            margin: auto;
            animation: zoomIn 0.3s ease;
        }

        @keyframes zoomIn {
            from {
                transform: scale(0.5);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .modal-content img {
            width: 100%;
            height: auto;
            max-height: 90vh;
            object-fit: contain;
            border-radius: 10px;
        }

        .close {
            position: absolute;
            top: 15px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s;
            z-index: 1001;
        }

        .close:hover {
            color: #f5576c;
        }

        @media (max-width: 600px) {
            .close {
                top: 10px;
                right: 20px;
                font-size: 30px;
            }
        }

        @media (max-width: 600px) {
            h1 {
                font-size: 2em;
            }
            h2 {
                font-size: 1.5em;
            }
            .message {
                font-size: 1.1em;
            }
            .container {
                padding: 40px 20px;
            }
            .gallery {
                grid-template-columns: 1fr;
            }
            .welcome-message {
                font-size: 1.2em;
            }
        }
    </style>
</head>
<body>
    <!-- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ -->
    <div id="welcome" class="container section active">
        <h1>üíï –ü—Ä–∏–≤–µ—Ç, –í–∞—Ä—é—à–∞ (—Å–∞–º–∞—è –ª—É—á—à–∞—è –Ω–∞ —Å–≤–µ—Ç–µ –Ω–µ–≤–µ—Å—Ç–∞)! üíï</h1>
        <div class="welcome-message">
            <p>–Ø –¥–æ–ª–≥–æ –¥—É–º–∞–ª, –∫–∞–∫—É—é –≤–∞—Ä–µ–Ω—Ç–∏–Ω–∫—É —Ç–µ–±–µ —Å–¥–µ–ª–∞—Ç—å...</p>
            <p>–ò –≤ –∏—Ç–æ–≥–µ —Ä–µ—à–∏–ª —Å–¥–µ–ª–∞—Ç—å –Ω–µ–±–æ–ª—å—à–æ–π –∫–≤–∏–∑ –ø—Ä–æ –Ω–∞—Å! üíù</p>
            <p>–ì–æ—Ç–æ–≤–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–æ —Ç—ã –∑–Ω–∞–µ—à—å –Ω–∞—à–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è? üòä</p>
        </div>
        <button class="button" onclick="startQuiz()">–ù–∞—á–∞—Ç—å –∫–≤–∏–∑! üíï</button>
        
        <!-- –ê–Ω–∏–º–∞—Ü–∏—è —Å–µ—Ä–¥–µ—á–∫–∞ -->
        <div class="heart-stage" id="heartStage">
            <div class="heart-text" id="heartText"></div>
            <canvas id="heartCanvas"></canvas>
            <div class="heart-cta" id="heartCta">
                <div style="font-size:44px;">‚ô•</div>
                <div>–ù–∞–∂–º–∏</div>
                <div class="heart-hint">—á–∞—Å—Ç–∏—Ü—ã —Å–æ–±–µ—Ä—É—Ç—Å—è –≤ —Å–µ—Ä–¥—Ü–µ</div>
            </div>
        </div>
    </div>

    <!-- –ö–≤–∏–∑ -->
    <div id="quiz" class="container section">
        <h1>üíù –ö–≤–∏–∑ –æ –Ω–∞—Å üíù</h1>
        <div class="quiz-container">
            <div class="quiz-progress" id="quizProgress">–í–æ–ø—Ä–æ—Å 1 –∏–∑ 10</div>
            <div id="quizQuestions"></div>
            <button class="button" id="nextQuestionBtn" onclick="nextQuestion()" style="display: none;">–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å ‚Üí</button>
            <button class="button" id="finishQuizBtn" onclick="finishQuiz()" style="display: none;">–ó–∞–≤–µ—Ä—à–∏—Ç—å –∫–≤–∏–∑ üíï</button>
            <div class="quiz-result" id="quizResult" style="display: none;"></div>
        </div>
    </div>

    <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç –∏ –ø–æ–∂–µ–ª–∞–Ω–∏—è —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏ -->
    <div id="final" class="container section">
        <div class="final-section">
            <div class="wishes">
                <h2>üíï –Ø —Ç–µ–±—è –æ—á–µ–Ω—å –ª—é–±–ª—é! üíï</h2>
                <p>–¢—ã - —Å–∞–º–æ–µ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–µ, —á—Ç–æ –µ—Å—Ç—å –≤ –º–æ–µ–π –∂–∏–∑–Ω–∏</p>
                <p>–ö–∞–∂–¥—ã–π –¥–µ–Ω—å —Å —Ç–æ–±–æ–π - —ç—Ç–æ –ø–æ–¥–∞—Ä–æ–∫</p>
                <p>–¢–≤–æ—è —É–ª—ã–±–∫–∞ –¥–µ–ª–∞–µ—Ç –º–æ–π –º–∏—Ä —è—Ä—á–µ</p>
                <p>–Ø –ª—é–±–ª—é —Ç–µ–±—è –±–æ–ª—å—à–µ, —á–µ–º —Å–ª–æ–≤–∞ –º–æ–≥—É—Ç –≤—ã—Ä–∞–∑–∏—Ç—å üíñ</p>
                <p style="margin-top: 20px; font-size: 1.3em; font-weight: bold;">
                    –° –î–Ω—ë–º –°–≤—è—Ç–æ–≥–æ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞, –º–æ—è –ª—é–±–∏–º–∞—è! üíù‚ú®
                </p>
            </div>
            
            <div>
                <h2 style="text-align: center; margin-bottom: 20px;">üì∏ –ù–∞—à 2025 üíï</h2>
                <div class="gallery" id="photoGallery"></div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π -->
    <div id="imageModal" class="modal" onclick="closeModal()">
        <span class="close" onclick="closeModal()">&times;</span>
        <div class="modal-content" onclick="event.stopPropagation()">
            <img id="modalImage" src="" alt="–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è">
        </div>
    </div>

    <script>
        // –ê–Ω–∏–º–∞—Ü–∏—è —Å–µ—Ä–¥–µ—á–∫–∞ (–∏–∑ test.html)
        (() => {
            const stage = document.getElementById('heartStage');
            const cta = document.getElementById('heartCta');
            const textEl = document.getElementById('heartText');
            const canvas = document.getElementById('heartCanvas');
            const ctx = canvas.getContext('2d');

            const dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
            function resize(){
                const r = stage.getBoundingClientRect();
                canvas.width = Math.floor(r.width * dpr);
                canvas.height = Math.floor(r.height * dpr);
                canvas.style.width = r.width + "px";
                canvas.style.height = r.height + "px";
                ctx.setTransform(dpr,0,0,dpr,0,0);
            }
            window.addEventListener('resize', resize);
            resize();

            function heartPoints(cx, cy, scale, count){
                const pts = [];
                for (let i=0;i<count;i++){
                    const t = (i / count) * Math.PI * 2;
                    const x = 16*Math.pow(Math.sin(t),3);
                    const y = 13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t);
                    pts.push({ x: cx + x*scale, y: cy - y*scale });
                }
                return pts;
            }

            const particles = [];
            let started = false;
            let startTime = 0;

            function spawn(){
                particles.length = 0;
                const r = stage.getBoundingClientRect();
                // –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Å–µ—Ä–¥–µ—á–∫–æ
                const cx = r.width * 0.5;
                const cy = r.height * 0.5;
                const targets = heartPoints(cx, cy, Math.min(r.width,r.height) * 0.018, 520);

                const filled = [];
                for (let k=0;k<targets.length;k++){
                    const p = targets[k];
                    for (let j=0;j<2;j++){
                        const a = Math.random()*Math.PI*2;
                        const rr = Math.random()*24;
                        filled.push({x: p.x + Math.cos(a)*rr, y: p.y + Math.sin(a)*rr});
                    }
                }
                const all = targets.concat(filled);

                for (let i=0;i<all.length;i++){
                    const t = all[i];
                    // –ß–∞—Å—Ç–∏—Ü—ã –Ω–∞—á–∏–Ω–∞—é—Ç —Å —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç –ø–æ –∫—Ä–∞—è–º
                    const fromX = r.width*0.5 + (Math.random()-0.5)*r.width*0.9;
                    const fromY = r.height*0.5 + (Math.random()-0.5)*r.height*0.9;

                    particles.push({
                        x: fromX, y: fromY,
                        vx: (Math.random()-0.5)*40,
                        vy: -Math.random()*60,
                        tx: t.x, ty: t.y,
                        delay: Math.random()*450,
                        s: 10 + Math.random()*8,
                        wobble: Math.random()*Math.PI*2,
                        alpha: 0
                    });
                }
            }

            function easeOutCubic(x){ return 1 - Math.pow(1-x, 3); }

            function drawHeart(x, y, size, alpha){
                ctx.save();
                ctx.globalAlpha = alpha;
                ctx.translate(x, y);
                ctx.font = `700 ${size}px system-ui, -apple-system, Segoe UI, Roboto, Arial`;
                ctx.textAlign = "center";
                ctx.textBaseline = "middle";
                const g = ctx.createLinearGradient(-size, -size, size, size);
                g.addColorStop(0, "#ff3b6b");
                g.addColorStop(1, "#b0002a");
                ctx.fillStyle = g;
                ctx.fillText("‚ô•", 0, 0);
                ctx.restore();
            }

            const floaters = [];
            function addFloaters(){
                const r = stage.getBoundingClientRect();
                for (let i=0;i<45;i++){
                    floaters.push({
                        x: r.width*0.5 + (Math.random()-0.5)*140,
                        y: r.height*0.5 + (Math.random()-0.5)*120,
                        vx: (Math.random()-0.5)*35,
                        vy: 10 + Math.random()*35,
                        s: 8 + Math.random()*10,
                        life: 800 + Math.random()*900,
                        born: performance.now()
                    });
                }
            }

            function loop(now){
                ctx.clearRect(0,0,canvas.width,canvas.height);

                if (started){
                    const t = now - startTime;

                    for (const p of particles){
                        const tt = Math.max(0, t - p.delay);
                        const dur = 1300;
                        const k = Math.min(1, tt / dur);
                        const e = easeOutCubic(k);

                        const wob = Math.sin((now*0.004) + p.wobble) * 6;
                        p.x = p.x + (p.tx - p.x) * (0.06 + 0.08*e);
                        p.y = p.y + (p.ty - p.y) * (0.06 + 0.08*e);
                        p.alpha = Math.min(1, p.alpha + 0.04);

                        drawHeart(p.x + wob*0.2, p.y + wob*0.1, p.s, p.alpha*0.95);
                    }

                    for (let i=floaters.length-1;i>=0;i--){
                        const f = floaters[i];
                        const age = now - f.born;
                        if (age > f.life){ floaters.splice(i,1); continue; }
                        f.x += f.vx*0.016;
                        f.y += f.vy*0.016;
                        const a = 1 - (age / f.life);
                        drawHeart(f.x, f.y, f.s, a*0.8);
                    }
                }

                requestAnimationFrame(loop);
            }
            requestAnimationFrame(loop);

            function typeText(text){
                textEl.textContent = "";
                let i = 0;
                const timer = setInterval(() => {
                    textEl.textContent = text.slice(0, i++);
                    if (i > text.length) clearInterval(timer);
                }, 28);
            }

            function startHeart(){
                if (started) return;
                started = true;
                stage.classList.add('started');
                startTime = performance.now();
                spawn();
                setTimeout(addFloaters, 1700);
                // –¢–µ–∫—Å—Ç —É–±—Ä–∞–Ω
            }

            cta.addEventListener('click', startHeart);
            stage.addEventListener('click', (e) => {
                if (!started) startHeart();
            });
        })();

        // –°–æ–∑–¥–∞–µ–º –ª–µ—Ç–∞—é—â–∏–µ —Å–µ—Ä–¥–µ—á–∫–∏
        function createHeart() {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.textContent = ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üíó', 'üíì', 'üíù'][Math.floor(Math.random() * 6)];
            heart.style.left = Math.random() * 100 + '%';
            heart.style.animationDuration = (Math.random() * 3 + 4) + 's';
            heart.style.animationDelay = Math.random() * 2 + 's';
            document.body.appendChild(heart);

            setTimeout(() => {
                heart.remove();
            }, 6000);
        }

        // –°–æ–∑–¥–∞–µ–º –±–ª–µ—Å—Ç–∫–∏
        function createSparkle() {
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            sparkle.style.left = Math.random() * 100 + '%';
            sparkle.style.top = Math.random() * 100 + '%';
            sparkle.style.animationDelay = Math.random() * 2 + 's';
            document.body.appendChild(sparkle);

            setTimeout(() => {
                sparkle.remove();
            }, 2000);
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å–µ–∫—Ü–∏–π
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
            
            // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –≤–≤–µ—Ä—Ö
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // –î–∞–Ω–Ω—ã–µ –∫–≤–∏–∑–∞
        const quizData = [
            {
                question: "–ö–æ–≥–¥–∞ –º—ã –Ω–∞—á–∞–ª–∏ –≤—Å—Ç—Ä–µ—á–∞—Ç—å—Å—è?",
                options: ["–í—á–µ—Ä–∞", "–ù–µ–¥–∞–≤–Ω–æ", "18.06.2021", "–Ø –Ω–µ –ø–æ–º–Ω—é"],
                correct: 2
            },
            {
                question: "–ö–∞–∫–æ–µ –º–æ–µ –ª—é–±–∏–º–æ–µ –±–ª—é–¥–æ?",
                options: ["–ü–∏—Ü—Ü–∞", "–°—É—à–∏", "–ö–∞—Ä–±–æ–Ω–∞—Ä–∞", "–¢–≤–æ—è –ø–æ–ø–∞"],
                correct: 3
            },
            {
                question: "–ì–¥–µ –º—ã –ø—Ä–æ–≤–µ–ª–∏ –Ω–∞—à –ø–µ—Ä–≤—ã–π –æ—Ç–ø—É—Å–∫ –≤–º–µ—Å—Ç–µ?",
                options: ["–ù–∞ –º–æ—Ä–µ", "–í –≥–æ—Ä–∞—Ö", "–í –ü–∏—Ç–µ—Ä–µ", "–í –ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥–µ"],
                correct: 2
            },
            {
                question: "–ö–∞–∫–æ–π –º–æ–π –ª—é–±–∏–º—ã–π —Ü–≤–µ—Ç?",
                options: ["–ö—Ä–∞—Å–Ω—ã–π", "–°–∏–Ω–∏–π", "–ó–µ–ª–µ–Ω—ã–π", "–§–∏–æ–ª–µ—Ç–æ–≤—ã–π"],
                correct: 3
            },
            {
                question: "–ö–æ–≥–¥–∞ —è —Å–¥–µ–ª–∞–ª —Ç–µ–±–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ?",
                options: ["–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫", "–ß–µ—Ç–≤–µ—Ä–≥", "–í—Ç–æ—Ä–Ω–∏–∫", "–í –ú–∏–Ω—Å–∫–µ"],
                correct: 1
            },
            {
                question: "–°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –º—ã –≥–æ–≤–æ—Ä–∏–ª–∏ –¥—Ä—É–≥ –¥—Ä—É–≥—É –Ø —Ç–µ–±—è –ª—é–±–ª—é?",
                options: ["54", "61", "78", "105"],
                correct: 3
            },
            {
                question: "–ì–¥–µ –º—ã –ø–æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å?",
                options: ["–ù–∞ —É–ª–∏—Ü–µ", "–ù–∞ —Ä–∞–±–æ—Ç–µ", "–ß–µ—Ä–µ–∑ –¥—Ä—É–∑–µ–π", "–í –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ"],
                correct: 3
            },
            {
                question: "–ö–∞–∫–æ–π –ø–æ–¥–∞—Ä–æ–∫ —è —Ç–µ–±–µ –ø–æ–¥–∞—Ä–∏–ª –Ω–∞ –ø–µ—Ä–≤—ã–π –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è?",
                options: ["–ö—Ä–æ—Å—Å–æ–≤–∫–∏", "–ù–∞—É—à–Ω–∏–∫–∏", "–¢–µ–ª–µ–≤–∏–∑–æ—Ä", "–ß—Ç–æ-—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ–µ"],
                correct: 3
            },
            {
                question: "–ö–∞–∫–æ–µ –∏–º—è —É –º–æ–µ–π –ª—é–±–∏–º–æ–π –∫–∏—Å—ã?",
                options: ["–°–∏–º–∫–∞", "–¢–∏–º–∞", "–ü—É—à–∏—Å—Ç–∏–∫", "–í–∞—Ä—é—à–∞"],
                correct: 3
            },
            {
                question: "–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –º–µ–Ω—è —Å—á–∞—Å—Ç–ª–∏–≤—ã–º?",
                options: ["–¢–≤–æ—è —É–ª—ã–±–∫–∞", "–¢–≤–æ–∏ –æ–±—ä—è—Ç–∏—è", "–¢–≤–æ—è –ª—é–±–æ–≤—å", "–í—Å–µ –≤—ã—à–µ–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω–æ–µ"],
                correct: 3
            }
        ];

        let currentQuestion = 0;
        let userAnswers = [];
        let quizStarted = false;

        // –ù–∞—á–∞–ª–æ –∫–≤–∏–∑–∞
        function startQuiz() {
            showSection('quiz');
            initQuiz();
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–≤–∏–∑–∞
        function initQuiz() {
            currentQuestion = 0;
            userAnswers = [];
            quizStarted = false;
            document.getElementById('quizResult').style.display = 'none';
            document.getElementById('nextQuestionBtn').style.display = 'none';
            document.getElementById('finishQuizBtn').style.display = 'none';
            showQuestion();
        }

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–æ–ø—Ä–æ—Å
        function showQuestion() {
            const questionsDiv = document.getElementById('quizQuestions');
            const progressDiv = document.getElementById('quizProgress');
            
            if (currentQuestion >= quizData.length) {
                return;
            }

            const question = quizData[currentQuestion];
            progressDiv.textContent = `–í–æ–ø—Ä–æ—Å ${currentQuestion + 1} –∏–∑ ${quizData.length}`;

            questionsDiv.innerHTML = `
                <div class="question">
                    <h3>${question.question}</h3>
                    <div class="options">
                        ${question.options.map((option, index) => `
                            <div class="option" onclick="selectOption(${index})" data-index="${index}">
                                ${option}
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;

            if (currentQuestion === quizData.length - 1) {
                document.getElementById('finishQuizBtn').style.display = 'inline-block';
                document.getElementById('nextQuestionBtn').style.display = 'none';
            } else {
                document.getElementById('nextQuestionBtn').style.display = 'none';
                document.getElementById('finishQuizBtn').style.display = 'none';
            }
        }

        // –í—ã–±–æ—Ä –≤–∞—Ä–∏–∞–Ω—Ç–∞ –æ—Ç–≤–µ—Ç–∞
        function selectOption(index) {
            if (quizStarted && userAnswers[currentQuestion] !== undefined) {
                return; // –£–∂–µ –æ—Ç–≤–µ—á–µ–Ω
            }

            const options = document.querySelectorAll('.option');
            options.forEach(opt => opt.classList.remove('selected'));
            options[index].classList.add('selected');

            userAnswers[currentQuestion] = index;
            quizStarted = true;

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
            setTimeout(() => {
                const correctIndex = quizData[currentQuestion].correct;
                options[correctIndex].classList.add('correct');
                if (index !== correctIndex) {
                    options[index].classList.add('incorrect');
                }

                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
                if (currentQuestion < quizData.length - 1) {
                    document.getElementById('nextQuestionBtn').style.display = 'inline-block';
                } else {
                    document.getElementById('finishQuizBtn').style.display = 'inline-block';
                }
            }, 500);
        }

        // –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å
        function nextQuestion() {
            if (currentQuestion < quizData.length - 1) {
                currentQuestion++;
                quizStarted = false;
                showQuestion();
            }
        }

        // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∫–≤–∏–∑–∞
        function finishQuiz() {
            let correctCount = 0;
            for (let i = 0; i < quizData.length; i++) {
                if (userAnswers[i] === quizData[i].correct) {
                    correctCount++;
                }
            }

            const resultDiv = document.getElementById('quizResult');
            const percentage = Math.round((correctCount / quizData.length) * 100);
            
            let message = '';
            if (correctCount === quizData.length) {
                message = 'üéâ –ò–¥–µ–∞–ª—å–Ω–æ! –¢—ã –∑–Ω–∞–µ—à—å –≤—Å—ë –æ –Ω–∞—Å! –¢—ã —Å–∞–º–∞—è –ª—É—á—à–∞—è! üíï';
            } else if (correctCount >= 7) {
                message = 'üíñ –û—Ç–ª–∏—á–Ω–æ! –¢—ã –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ –∑–Ω–∞–µ—à—å –Ω–∞—Å! –Ø –≥–æ—Ä–∂—É—Å—å —Ç–æ–±–æ–π! üíï';
            } else if (correctCount >= 5) {
                message = 'üíï –•–æ—Ä–æ—à–æ! –ï—Å—Ç—å —á—Ç–æ —É–ª—É—á—à–∏—Ç—å, –Ω–æ —Ç—ã –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—É—Ç–∏! üíñ';
            } else {
                message = 'üíù –ù–µ —Ä–∞—Å—Å—Ç—Ä–∞–∏–≤–∞–π—Å—è! –ì–ª–∞–≤–Ω–æ–µ - –º—ã –≤–º–µ—Å—Ç–µ –∏ –ª—é–±–∏–º –¥—Ä—É–≥ –¥—Ä—É–≥–∞! üíï';
            }

            resultDiv.innerHTML = `
                <h2>üíï –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–≤–∏–∑–∞ üíï</h2>
                <div class="score">${correctCount}/${quizData.length}</div>
                <div class="message">${message}</div>
                <p style="margin-top: 20px; font-size: 1.1em;">
                    –ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤: ${correctCount} –∏–∑ ${quizData.length}<br>
                    –ü—Ä–æ—Ü–µ–Ω—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤: ${percentage}%
                </p>
                <button class="button" onclick="showFinalSection()" style="margin-top: 30px;">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å üíï</button>
            `;

            resultDiv.style.display = 'block';
            
            // –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–≤–∏–∑–∞
            document.getElementById('finishQuizBtn').style.display = 'none';
            
            // –°–æ–∑–¥–∞–µ–º –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    createHeart();
                }, i * 50);
            }
        }

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—É—é —Å–µ–∫—Ü–∏—é
        function showFinalSection() {
            showSection('final');
            loadGallery();
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –≥–∞–ª–µ—Ä–µ–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
        function loadGallery() {
            const gallery = document.getElementById('photoGallery');
            gallery.innerHTML = '';
            
            const loadedImages = [];
            const maxPhotos = 100; // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –ª–∏–º–∏—Ç –¥–æ 100 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
            
            // –ü—ã—Ç–∞–µ–º—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ (photo1.jpg, photo2.jpg, ...)
            for (let i = 1; i <= maxPhotos; i++) {
                const img = new Image();
                img.src = `photos/photo${i}.jpg`;
                img.alt = `–§–æ—Ç–æ ${i}`;
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–Ω–¥–µ–∫—Å –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
                const photoIndex = i;
                
                img.onload = function() {
                    const item = document.createElement('div');
                    item.className = 'gallery-item';
                    item.setAttribute('data-index', photoIndex); // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–Ω–¥–µ–∫—Å –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
                    const imgClone = img.cloneNode();
                    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
                    imgClone.onclick = function() {
                        openModal(this.src);
                    };
                    item.appendChild(imgClone);
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –≤ –º–∞—Å—Å–∏–≤ —Å –∏–Ω–¥–µ–∫—Å–æ–º –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
                    loadedImages.push({ index: photoIndex, element: item });
                    
                    // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –∏–Ω–¥–µ–∫—Å—É –∏ –æ–±–Ω–æ–≤–ª—è–µ–º –≥–∞–ª–µ—Ä–µ—é
                    loadedImages.sort((a, b) => a.index - b.index);
                    updateGallery(loadedImages.map(item => item.element));
                };
                
                img.onerror = function() {
                    // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏
                };
            }
            
            // –ï—Å–ª–∏ —á–µ—Ä–µ–∑ —Å–µ–∫—É–Ω–¥—É –Ω–µ—Ç —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É
            setTimeout(() => {
                if (gallery.children.length === 0) {
                    gallery.innerHTML = `
                        <div class="gallery-item" style="grid-column: 1 / -1;">
                            <div class="gallery-placeholder">
                                üì∑<br>–î–æ–±–∞–≤—å—Ç–µ –≤–∞—à–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –≤ –ø–∞–ø–∫—É "photos"<br>
                                –∏ –Ω–∞–∑–æ–≤–∏—Ç–µ –∏—Ö photo1.jpg, photo2.jpg –∏ —Ç.–¥.
                            </div>
                        </div>
                    `;
                }
            }, 1000);
        }

        function updateGallery(images) {
            const gallery = document.getElementById('photoGallery');
            gallery.innerHTML = '';
            // –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫
            images.sort((a, b) => {
                const indexA = parseInt(a.getAttribute('data-index')) || 0;
                const indexB = parseInt(b.getAttribute('data-index')) || 0;
                return indexA - indexB;
            });
            images.forEach(item => {
                gallery.appendChild(item);
            });
        }

        // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–µ–π
        function openModal(imageSrc) {
            const modal = document.getElementById('imageModal');
            const modalImg = document.getElementById('modalImage');
            modalImg.src = imageSrc;
            modal.classList.add('active');
            document.body.style.overflow = 'hidden'; // –ë–ª–æ–∫–∏—Ä—É–µ–º –ø—Ä–æ–∫—Ä—É—Ç–∫—É —Ñ–æ–Ω–∞
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        function closeModal() {
            const modal = document.getElementById('imageModal');
            modal.classList.remove('active');
            document.body.style.overflow = 'auto'; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–æ–∫—Ä—É—Ç–∫—É
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –Ω–∞–∂–∞—Ç–∏—é Escape
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeModal();
            }
        });

        // –ü–æ—Å—Ç–æ—è–Ω–Ω–æ —Å–æ–∑–¥–∞–µ–º –ª–µ—Ç–∞—é—â–∏–µ —Å–µ—Ä–¥–µ—á–∫–∏
        setInterval(createHeart, 800);

        // –°–æ–∑–¥–∞–µ–º –±–ª–µ—Å—Ç–∫–∏ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏
        setInterval(createSparkle, 500);
    </script>
</body>
</html>